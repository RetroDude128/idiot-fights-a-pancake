controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    kcik = 1
    scene.cameraShake(8, 200)
    for (let index = 0; index < 150; index++) {
        if (last_button == 2) {
            mySprite2.setImage(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . f f f f f . . . f f . . . 
                . f f 1 1 1 1 f f f . f f . . . 
                . . f 1 1 f 1 1 1 f . . f f . . 
                f f 1 f 1 1 1 1 1 f . . . f f . 
                f 1 1 1 1 1 1 1 1 f . . . f f . 
                f f 1 1 1 1 1 1 f f . f f f . . 
                . f f f f f f f f . f f . . . . 
                . . f f 1 1 1 f . f f . . . . . 
                . f f f 1 1 1 f f . . . . . . . 
                f . . f f 1 1 f . . . . . . . . 
                . . f f f f f f . . . . . . . . 
                . f f . . . . . . . . . . . . . 
                . f f . . . . . . . . . . . . . 
                . . f f f . . . . . . . . . . . 
                `)
        } else {
            mySprite2.setImage(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . f f . . . f f f f f . . . 
                . . . f f . f f f 1 1 1 1 f f . 
                . . f f . . f 1 1 1 f 1 1 f . . 
                . f f . . . f 1 1 1 1 1 f 1 f f 
                . f f . . . f 1 1 1 1 1 1 1 1 f 
                . . f f f . f f 1 1 1 1 1 1 f f 
                . . . . f f . f f f f f f f f . 
                . . . . . f f . f 1 1 1 f f . . 
                . . . . . . . f f 1 1 1 f f f . 
                . . . . . . . . f 1 1 f f . . f 
                . . . . . . . . f f f f f f . . 
                . . . . . . . . . . . . . f f . 
                . . . . . . . . . . . . . f f . 
                . . . . . . . . . . . f f f . . 
                `)
        }
        pause(1)
    }
    kcik = 0
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
        mySprite2.vy = -150
        music.playTone(262, music.beat(BeatFraction.Sixteenth))
        music.playTone(330, music.beat(BeatFraction.Sixteenth))
        music.playTone(392, music.beat(BeatFraction.Sixteenth))
        music.playTone(494, music.beat(BeatFraction.Sixteenth))
        while (!(mySprite2.isHittingTile(CollisionDirection.Bottom))) {
            pause(1)
        }
        music.playTone(147, music.beat(BeatFraction.Half))
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    last_button = 1
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    last_button = 2
})
let kciked = 0
let last_button = 0
let kcik = 0
let mySprite2: Sprite = null
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999fff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999ff99f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999ff99999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999ff9999999f999999fff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999ff999999999f999999999ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999ff999999999999f9999999999ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999f999999999999999f99999999999fff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999f99999999999999999f9999999999999ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999f999999999999999999f999999999999999fff99999999999999999999999999999999999999999999999999999999999999999999fffffffff9999999999999999999999999999999999999999
    9999f99999999999999999999f999999999999999ffff9999999999999999999999999999999999999999999999999999999999999fffff999999999ff99999999999999999999999999999999999999
    999f9999999999999999999999f9999ffffffffff999999999999999999999999999999999999999999999999999999999999999ff9999999999999999f9999999999999999999999999999999999999
    99f99999999999999999999999fffff99999999999999999999999999999999999999999999999999999999999999999999999ff9999999999999999999f999999999999999999999999999999999999
    99f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff9999999999999999999999f99999999999999999999999999999999999
    9f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff9999999999999999999999999f99999999999999999999999999999999999
    9f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ffff99999999999999999999999999999f9999999999999999999999999999999999
    9f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ffff9999999999999999999999999999999f9999999999999999999999999999999999
    9f99999999999999999999999999999999999999999999999999999999999999999999999999999999999999fff99999999999999999999999999999999999f999999999999999999999999999999999
    9f999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff99999999999999999999999999999999999999f999999999999999999999999999999999
    9f999999999999999999999999999999999999999999999999999999999999999999999999999999999fff9999999999999999999999999999999999999999f999999999999999999999999999999999
    99f999999999999999999999999999999999999999999999999999999999999999999999999999999fff999999999999999999999999999999999999999999f999999999999999999999999999999999
    99f99999999999999999999999999999999999999999999999999999999999999999999999999999ff999999999999999999999999999999999999999999999f99999999999999999999999999999999
    999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999
    999f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    999f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    9999f9999999999999999999999999999999999ffffffffffffffffffffffffff999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    9999f999999999999999999999fff99999fffff11111111111111111111111111fffff9999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    9999f999999999999999999fff9999ffff111111111111111111111111111111111111ffff999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    9999f9999999999999999ff999ffff111111f1111111111111111111111111111111111111fff999999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    99999f9999999999999ff11fff11111111111f111111111111111111111111111111111111111ff9999999999999999999999999999999999999999999999999f9999999999999999999999999999999
    99999f99999999999ff111f11111111111111f11111111111111111111111111111111111111111ff99999999999999999999999999999999999999999999999f9999999999999999999999999999999
    999999f999999999f111111111111111111111f111111111111111111111111111111111111111111fff99999999999999999999999999999999999999999999f9999999999999999999999999999999
    999999f99999999f1111111111111111111111f111111111111111111111111111111111111111111111f999999999999999999999999999999999999999999f99999999999999999999999999999999
    9999999f999999f111111111111111111111111f111111111111111111111111111111111111111111111ff9999999999999999999999999999999999999999f99999999999999999999999999999999
    9999999f999999f11111111111111111f1111111f1111111111111111111111111111111111111111111111ff99999999999999999999999999999999999999f99999999999999999999999999999999
    99999999f99999f11111111111111111111111111f1111111111111111111111111111111111111111111111f99999999999999999999999999999999999999f99999999999999999999999999999999
    999999999f9999f11111111111111111111111111111111111111111111111111111111111111111111111111f999999999fffffffffffffffffff99999999f999999999999999999999999999999999
    9999999999f999f111111111111111111111111111111111111111111111111111111111111111111111111111fffffffff9999999999999999999fff99999f999999999999999999999999999999999
    9999999999f999f11111111111111111111111111111111111111111111111111111111111111111111fffffff1f9999999999999999999999999999f99999f999999999999999999999999999999999
    99999999999f99f11111111111111111111111111111111111111111111111111111111111111ffffff11111111f9999999999999999999999999999f99999f999999999999999999999999999999999
    999999999999f9f1111111111111111111111111111111111111111111111111111111111ffff111111111111111f999999999999999999999999999f9999f9999999999999999999999999999999999
    9999999999999f9f11111111111111111111111ffffffffffffffffffff111111111111111111ffff1111ffffff11f99999999999999999999999999f9999f9999999999999999999999999999999999
    9999999999999f9f111111111111111111fffff11111111111111111111fffff11111111111111fffffff11111f11f99999999999999999999999999f999f99999999999999999999999999999999999
    99999999999999ff11111111111111111f111111111111111111111111111111ffffff1111111f1111111ffff1111f99999999999999999999999999f999f99999999999999999999999999999999999
    999999999999999f1111111111111111f1111111111111111111111111111111111111fff1111111111111111fffff99999999999999999999999999f999f99999999999999999999999999999999999
    9999999999999999f111111111111111f1111111111111111111111111111111111111111ff1111111111111111111ffff9999999999999999999999f9ff999999999999999999999999999999999999
    9999999999999999ff11111111111111f111111111111111111111111111111111111111111ff11111111111111111f999ffff999999999999999999ff99999999999999999999999999999999999999
    99999999999999999ff1111111111111f11111111111111111111111111111111111111111111ff11111f111111111f9999999ff9999999999999999f999999999999999999999999999999999999999
    999999999999999999ff111111111111f1111111111111111111111111111111111111111111111f11111111111111f999999999ff999999999999999999999999999999999999999999999999999999
    99999999999999ffff11f11111111111111111111111111111111111111111111111111111111111f1111111111111f99999999999fff999999999999999999999999999999999999999999999999999
    9999999999ffff1111111ff1111111111111111111111111111111111111111111111111111111111f11111111111f999999999999999ff9999999999999999999999999999999999999999999999999
    9999999fff1111111111111ff111111111111111111111111111111111111111111111111111111111f1111111111f99999999999999999ff99999999999999999999999999999999999999999999999
    999999f111111111111111111f111111111111111111111111111111111111111111111111111111111f111111111f9999999999999999999ff999999999999999999999999999999999999999999999
    99999f11111111111111111111ff1111111111111111111111111111111111111111111111111111111f11111111f9999999999999999999999ff9999999999999999999999999999999999999999999
    99999f1111111111111111111111ff11111111111111111111111111111111111111111111111111111f1111111f9999999999999999999999999f999999999999999999999999999999999999999999
    9999f1111111111111111111111111ff1111111111111111111111111111111111111111111111111111f11111f999999999999999999999999999ff9999999999999999999999999999999999999999
    999f1111111111111111111111111111fff1111111111111111111111111111111111111111111111111f11111f99999999999999999999999999999f999999999999999999999999999999999999999
    999f1111111111111111111111111111111ff11111111111111111111111111111111111111111111111f1111f9999999999999999999999999999999f99999999999999999999999999999999999999
    999f111111111111111111111111111111111fff11111111111111111111111111111111111111111111f111f999999999999999999999999999999999f9999999999999999999999999999999999999
    999f111111111111111111111111111111111111ff111111111111111111111111111111111111111111f11f9999999999999999999999999999999999f9999999999999999999999999999999999999
    999f11111111111111111111111111111111111111fff11111111111111111111111111111111111111ff1f99999999999999999999999999999999999f9999999999999999999999999999999999999
    9999f1111111111111111111111111111111111111111ff11111111111111111111111111111ffffffffff99999999999999999999999999999999999f99999999999999999999999999999999999999
    99999f11111111111111111111111111111111111111111fff11111111111111111111111111111111ff9999999999999999999999999999999999999f99999999999999999999999999999999999999
    999999f1111111111111111111111111111111111111111111ff11111111111111111111111111111f99999999999999999999999999999999999999f999999999999999999999999999999999999999
    9999999f11111111111111111111111111111111111111111111fffff1111111111111111111111ff99999999999999999999999999999999999999f9999999999999999999999999999999999999999
    99999999f111111111111111111111111111111111111111111111111fffff11111111111111fff9999999999999999999999999999999999999fff99999999999999999999999999999999999999999
    999999999f1111111111111111111111111111111111111111111111111111fffffffffffffffffffffffffffffffffffff99999999999ffffff99999999999999999999999999999999999999999999
    9999999999ff11111111111111111111111111111111111111111111111111111111111f999999999999999999999999999fffffffffff99999999999999999999999999999999999999999999999999
    999999999999ff1111111111111111111111111111111111111111111111111111111111ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999ff1111111111111111111111111111111111111111111111111111111111ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999fff111111111111111111111111111111111111111111111111111111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999ffff999ff11111111111111111111111111111111111111111111111111111111ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999ff999999999fff1111111111111111111111111111111111111111111111111111111ff99999999999999999999999999999999999999999999999999999999999999999999999999999999
    fffffffff99999999999999fff111111111111111111111111111111111111111111111111111111ff999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999f999999999999999999fffffffff11111111111111111111111111111111111111111111111f99999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999ffffff111111111111111111111111111111111111111111ff999999999999999999999999999999999999999999fffffffffffffffff9999999999999999
    99999999999999999999999999999999999999999ffffff11111111111111111111111111111111111111f99999999999999999999999999999999999ffffffdddddddddddddddddff99999999999999
    99999999999999999999999999999999999999999999999fffffffffffffff111111111111111111111111ff99999999999999999999999999999999fdddddddddddddddddddddddddfff99999999999
    999999999999999999999999999999999999999999999999999999999999ffffffffffffff1111111111111f9999999999999999999999999999999fdddddddddddddddddddddddddddddff999999999
    99999999999999999999999999999999999999999999999999999999999999f99999999999ffffffffffffff99999999999999999999999999999ffddddddddddddddddddddddddddddddddff9999999
    999999999999999999999999999999999999999999999999999999999999999ff9999999999999999999999999999999999999999999999999fffddddddddddddddddddddddddddddddddddddf999999
    99999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999fddddddddffdddddddddddddddddddddddddddddf99999
    999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999999fddddddddffdddddddddddddddddddddddddddddddf9999
    9999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999fddddddddfdddddddddddddddddddddddddddddddddff99
    99999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999fddddddddfdddddddddddddddddddddddddddddddddddff9
    999999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999fdddddddfdddddddddddddddddddddddddddddddddddddff
    9999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999fdddddddfdddddddddddddddddddddddddddddddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999fddddddfddddddddddddddddddddddddddddddddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999fddddddfddddddddddddddddddddddddddddddddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999fddddddfdddddfddddddddddddddddddddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddddfdddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddddddddddddddddd
    999999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddddddddddddddddd
    999999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999fddddddfddddddddddddddddddddddddddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999fddddddfddddddddddddddddddddddddddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999fddddddffdddddddddddddddddddddddddddddddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999fddddddfdddddddddddddddddddddddddddddddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999fdddddddfdddddddddddddddddddddddddddddffdddddddd
    999999999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999fddddddddfdddddddddddddddddddddddddddfdddddddddd
    999999999999999999999999999999999999999999999999999999999999999999999ff999999999999999999999999999999999999999999fdddddddfddddddddddddddddddddddddddfddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999ff99999999999999999999999999999999999999999fdddddddfffddddddddddddddddddddddffddddddddddd
    9999999999999999999999999999999999999999999999999999999999999999999999999ffff9999999999999999999999999999999999999fdddddddddffddddddddddddddddddddfddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999999999999999fff9999999999999999999999999999999999fdddddddddddfffdddddddddddddddffdddddddddddddd
    999999999999999999999999999999999999999999999999999999999999999999ffffffffffff9999999999999999999999999999999999999fdddddddddddddffddddddddddddfdddddddddddddddd
    999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999999999fddddddddddddddfffdddddffffddddddddddddddddd
    99999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999ffdddddddddddddddfffffddddddddddddddddddddf
    9999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999ffdddddddddddddddddddddddddddddddddddddf9
    9999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999999999999999fdddddddddddddddddddddddddddddddddddddf9
    999999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999999ffdddddddddddddddddddddddddddddddddddf9
    999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999999999999999999ffdddddddddddddddddddddddddddddddddf99
    99999999999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999999999fffdddddddddddddddddddddddddddddddf99
    9999999999999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999999999999999999999999fdddddddddddddddddddddddddddddf999
    9999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999999999999999999999999fddddddddddddddddddddddddddddf999
    9999999999999999999999999999999999999999999999999999999999999fffffffffffffffffffffffffffffffff9999999999999999999999999999999999ffdddddddddddddddddddddddddf9999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffffdddddddddddddddddf99999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffdddddddddddf999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffffffff9999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
pause(500)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
scene.setBackgroundColor(9)
tiles.setTilemap(tilemap`level1`)
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
mySprite2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . f f f f f . . . . . f . . 
    . . f f . . . f f . . . . f f . 
    . f f . . . . . f . . . . . f . 
    . f . . . . . . f . . . . . f . 
    . f . . . . . . . . . . . . f . 
    . f . . . . f f . . . . . . f . 
    . f . f f f f 1 f f f . . . f . 
    . f f f f 1 1 1 1 f 1 f f . f . 
    . f f 1 1 1 f 1 1 1 1 1 f . f . 
    . . f f f 1 1 f f 1 1 1 f f f . 
    . . . . f f f f f f f f f f . . 
    . f f f f f 1 1 1 1 f . . . . . 
    . f . . f f f f f f f f f f . . 
    . f f . . . . . . . . . . f . . 
    f f f . . . . . . . . . . f . . 
    `, SpriteKind.Player)
let mySprite3 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f f . . . . 
    . . . f f d d d d d d d f . . . 
    . f f d d d d f d d d d f . . . 
    . f d d d d d d d d d f d f . . 
    f f d d d d d d d d d f d f . . 
    . f d f f d f d d d d f d f . . 
    . f d d f d d d d d f f d f . . 
    . f f d f f f d d d f d d f . . 
    . . f f d d f f f f f d d f . . 
    . . . f f d d d d d d d f f . . 
    . . . . f f d d d d d f f . . . 
    . . . . . . f f f f f . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite2, 100, 0)
tiles.placeOnRandomTile(mySprite2, assets.tile`myTile0`)
tiles.placeOnRandomTile(mySprite3, assets.tile`myTile1`)
let mySprite4 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
forever(function () {
    if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . f 1 f f . . . . . . 
            . . . . . . f 1 1 f . . . . . . 
            . . . . . . f 1 1 f f . . . . . 
            . . . . . . f f 1 1 f . . . . . 
            . f f . . . f 1 1 1 f . . . . . 
            . . f . . . f 1 f f f . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . . f . f f f . . . . . . . 
            . . . . f f f f f f f f f f f . 
            . . . . f f 1 1 f f f . . . . . 
            . . . . f f f f f . . . . . . . 
            . f . . f . . . f . . . . . . . 
            . . f f f . . . f f f f f . . . 
            `)
    } else {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . f f f f f . . . . . f . . 
            . . f f . . . f f . . . . f f . 
            . f f . . . . . f . . . . . f . 
            . f . . . . . . f . . . . . f . 
            . f . . . . . . . . . . . . f . 
            . f . . . . f f . . . . . . f . 
            . f . f f f f 1 f f f . . . f . 
            . f f f f 1 1 1 1 f 1 f f . f . 
            . f f 1 1 1 f 1 1 1 1 1 f . f . 
            . . f f f 1 1 f f 1 1 1 f f f . 
            . . . . f f f f f f f f f f . . 
            . f f f f f 1 1 1 1 f . . . . . 
            . f . . f f f f f f f f f f . . 
            . f f . . . . . . . . . . f . . 
            f f f . . . . . . . . . . f . . 
            `)
    }
    pause(100)
})
forever(function () {
    if (0 < mySprite3.x - mySprite2.x) {
        mySprite3.vx = -50
    } else {
        mySprite3.vx = 50
    }
    if (mySprite3.isHittingTile(CollisionDirection.Bottom) && randint(0, 200) == randint(0, 200)) {
        mySprite3.vy = -150
    }
    if (mySprite3.overlapsWith(mySprite2)) {
        if (kcik == 0) {
            mySprite2.vx = -200
            mySprite2.vy = -100
            pause(500)
        } else {
            mySprite3.vx = mySprite3.vx * -2
            mySprite3.vy = -100
            while (false) {
                pause(1)
            }
        }
    }
    if (mySprite3.isHittingTile(CollisionDirection.Bottom) || (mySprite3.isHittingTile(CollisionDirection.Left) || mySprite3.isHittingTile(CollisionDirection.Right))) {
        kciked = 1
    }
})
forever(function () {
    mySprite2.vy += 5
    mySprite3.vy += 5
})
forever(function () {
    for (let index = 0; index < 4; index++) {
        music.playMelody("D C F E A G D C ", 500)
        music.playMelody("D C F E G F D C ", 500)
    }
    music.playMelody("F F D D E G G G ", 500)
    music.playMelody("A A A A A E C E ", 500)
    music.playMelody("F F F G B B B A ", 500)
    music.playMelody("A G F E F E D E ", 500)
})
forever(function () {
    if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . f 1 f f . . . . . . 
            . . . . . . f 1 1 f . . . . . . 
            . . . . . . f 1 1 f f . . . . . 
            . . . . . . f f 1 1 f . . . . . 
            . f f . . . f 1 1 1 f . . . . . 
            . . f . . . f 1 f f f . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . . f . f f f . . . . . . . 
            . . . . f f f f f f f f f f f . 
            . . . . f f 1 1 f f f . . . . . 
            . . . . f f f f f . . . . . . . 
            . f . . f . . . f . . . . . . . 
            . . f f f . . . f f f f f . . . 
            `)
    } else {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . f f f f f . . . . . f . . 
            . . f f . . . f f . . . . f f . 
            . f f . . . . . f . . . . . f . 
            . f . . . . . . f . . . . . f . 
            . f . . . . . . . . . . . . f . 
            . f . . . . f f . . . . . . f . 
            . f . f f f f 1 f f f . . . f . 
            . f f f f 1 1 1 1 f 1 f f . f . 
            . f f 1 1 1 f 1 1 1 1 1 f . f . 
            . . f f f 1 1 f f 1 1 1 f f f . 
            . . . . f f f f f f f f f f . . 
            . f f f f f 1 1 1 1 f . . . . . 
            . f . . f f f f f f f f f f . . 
            . f f . . . . . . . . . . f . . 
            f f f . . . . . . . . . . f . . 
            `)
    }
    mySprite4.setPosition(mySprite2.x + (mySprite3.x - mySprite2.x) / 2, mySprite2.y + (mySprite3.y - mySprite2.y) / 2)
    scene.cameraFollowSprite(mySprite4)
})
