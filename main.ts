controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (first_a == 1) {
        info.changeScoreBy(-1)
        kcik = 1
        scene.cameraShake(8, 200)
        for (let index = 0; index < 50; index++) {
            if (last_button == 2) {
                mySprite2.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . f f f f f . . . f f . . . 
                    . f f 1 1 1 1 f f f . f f . . . 
                    . . f 1 1 f 1 1 1 f . . f f . . 
                    f f 1 f 1 1 1 1 1 f . . . f f . 
                    f 1 1 1 1 1 1 1 1 f . . . f f . 
                    f f 1 1 1 1 1 1 f f . f f f . . 
                    . f f f f f f f f . f f . . . . 
                    . . f f 1 1 1 f . f f . . . . . 
                    . f f f 1 1 1 f f . . . . . . . 
                    f . . f f 1 1 f . . . . . . . . 
                    . . f f f f f f . . . . . . . . 
                    . f f . . . . . . . . . . . . . 
                    . f f . . . . . . . . . . . . . 
                    . . f f f . . . . . . . . . . . 
                    `)
            } else {
                mySprite2.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . f f . . . f f f f f . . . 
                    . . . f f . f f f 1 1 1 1 f f . 
                    . . f f . . f 1 1 1 f 1 1 f . . 
                    . f f . . . f 1 1 1 1 1 f 1 f f 
                    . f f . . . f 1 1 1 1 1 1 1 1 f 
                    . . f f f . f f 1 1 1 1 1 1 f f 
                    . . . . f f . f f f f f f f f . 
                    . . . . . f f . f 1 1 1 f f . . 
                    . . . . . . . f f 1 1 1 f f f . 
                    . . . . . . . . f 1 1 f f . . f 
                    . . . . . . . . f f f f f f . . 
                    . . . . . . . . . . . . . f f . 
                    . . . . . . . . . . . . . f f . 
                    . . . . . . . . . . . f f f . . 
                    `)
            }
            pause(1)
        }
        kcik = 0
        for (let index = 0; index < 50; index++) {
            if (last_button == 2) {
                mySprite2.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . f f f f f . . . f f . . . 
                    . f f 1 1 1 1 f f f . f f . . . 
                    . . f 1 1 f 1 1 1 f . . f f . . 
                    f f 1 f 1 1 1 1 1 f . . . f f . 
                    f 1 1 1 1 1 1 1 1 f . . . f f . 
                    f f 1 1 1 1 1 1 f f . f f f . . 
                    . f f f f f f f f . f f . . . . 
                    . . f f 1 1 1 f . f f . . . . . 
                    . f f f 1 1 1 f f . . . . . . . 
                    f . . f f 1 1 f . . . . . . . . 
                    . . f f f f f f . . . . . . . . 
                    . f f . . . . . . . . . . . . . 
                    . f f . . . . . . . . . . . . . 
                    . . f f f . . . . . . . . . . . 
                    `)
            } else {
                mySprite2.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . f f . . . f f f f f . . . 
                    . . . f f . f f f 1 1 1 1 f f . 
                    . . f f . . f 1 1 1 f 1 1 f . . 
                    . f f . . . f 1 1 1 1 1 f 1 f f 
                    . f f . . . f 1 1 1 1 1 1 1 1 f 
                    . . f f f . f f 1 1 1 1 1 1 f f 
                    . . . . f f . f f f f f f f f . 
                    . . . . . f f . f 1 1 1 f f . . 
                    . . . . . . . f f 1 1 1 f f f . 
                    . . . . . . . . f 1 1 f f . . f 
                    . . . . . . . . f f f f f f . . 
                    . . . . . . . . . . . . . f f . 
                    . . . . . . . . . . . . . f f . 
                    . . . . . . . . . . . f f f . . 
                    `)
            }
            pause(1)
        }
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (first_a == 1) {
        if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
            mySprite2.vy = -150
            music.playTone(262, music.beat(BeatFraction.Sixteenth))
            music.playTone(330, music.beat(BeatFraction.Sixteenth))
            music.playTone(392, music.beat(BeatFraction.Sixteenth))
            music.playTone(494, music.beat(BeatFraction.Sixteenth))
            while (!(mySprite2.isHittingTile(CollisionDirection.Bottom))) {
                pause(1)
            }
            music.playTone(147, music.beat(BeatFraction.Half))
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (first_a == 1) {
        last_button = -2
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (first_a == 1) {
        last_button = 2
    }
})
info.player1.onLifeZero(function () {
    info.player1.changeScoreBy(info.player1.life() - 300)
    game.over(false)
})
info.player2.onLifeZero(function () {
    info.player1.changeScoreBy(info.player1.life() - 300)
    game.over(true)
})
let kciked = 0
let last_button = 0
let kcik = 0
let mySprite2: Sprite = null
let first_a = 0
first_a = 0
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999fffffffffffffffffffffffffffffffffffff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999ff999999999999999fffffffff99999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999999999999999999fffff9999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999f99999999999999999999999999ffff999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999f999999999999999999999999999999ffff99999999999999999999999999999
    99999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999f999999999999999999999999999999999ffff9999999999999999999999999
    99999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999f999999999999999999999999999999999f999fff9999999999999999999999
    99999999999999999999999999999999999999999999999999999f9999999999999999999999999999999999999999999f999999999999999999999999999999999f999999fff9999999999999999999
    9999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999f99999999999999999999999999999999f9999999999f999999999999999999
    9999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999f99999999999999999999999999999999f99999999999999999999999999999
    999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999f99999999999999999999999999999999f99999999999999999999999999999
    999999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999f99999999999999999999999999999999f99999999999999999999999999999
    99999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999999f9999999999999999999999999999999f99999999999999999999999999999
    99999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999999f9999999999999999999999999999999f99999999999999999999999999999
    99999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999999999f9999999999999999999999999999999f99999999999999999999999999999
    9999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999f9999999999999999999999999999999f99999999999999999999999999999
    9999999999999999999999999999999999999999999999999f999999999999999999999999999999999999999999999999f99999999f999999999999999999999f999999999999999999999999999999
    9999999999999999999999999999999999999999999999999f99999999999999999999999999999999ffffff999999999f9999999999999999999999999999999f999999999999999999999999999999
    9999999999999999999999999999999999999999999999999f999999999999999999999999999fffff99999fff9999999f9999999999999999999999999999999f999999999999999999999999999999
    999999999999999999999999999999999999999999999999ff999999999999999999999999fff999999999999fff99999f999999999999999999999999999999f9999999999999999999999999999999
    99999999999999999999999999999999999999999999999f9999999999999999999999999f999999999999999999fff99f999999999999999999999999999999f9999999999999999999999999999999
    999999999999999999999999999999999999fffffffffff99999999999999999999999999f99999999999999999999ff9f999999999999999999999999999999f9999999999999999999999999999999
    99999999999999999999999999999999999999999999ffffff99999999999999999999999f99999999999999999999999f99999f999999999999999999999999f9999999999999999999999999999999
    99999999999999999999999999999999999999999999999999fffff9999999999999999999ff99999999999999999999f999999f999999999999999999999999f9999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999ffffff999999999999999ff999999999999999999f999999f99999999999999999999999f99999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999ffffff99999999999ffff99999999999999f999999f99999999999999999999999f99999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999fffff9999999999ffff999999999f999999f99999999fffff99999999999f99999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999fff99999999999fffff999ff999999f9999999f99999f999999999f999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999ffffff9999999999fff99999999f9999999f999999f99999999f999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999f99999999999999999999f99999999f999999f9999999f9999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f99999999f999999f9999999f9999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999f9999999999999999999999f999999999ff9999f9999999f9999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999ff999999999999999999999999999999999ffff9999999f99999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999f9f99999999999999999999999999999999999999999999f99999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999f99f99999999999999999999999999999999999999999999f99999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999f99f99999999999999999999999999999999999999999999f99999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999f999f99999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999ffff99f9999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999f9ffff9999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999f99999f9999ffff99999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999f99999f9999ff99f9999ffffff999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999f99999f999ff999f999f999999f99999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999f99999f999f99999999f99999ff999f9fff999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999ff99999f999f9999999ffffffff9999ff99f999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999ff999f99999999f999999999ff999f999999ffff99999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffff999f9999ff999ff999f99999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff99999f999f9999f99999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f999999f999f9999f99999999999999999999999999999999999999999
    99999999999999999999ffffffffffffffffffff99999999999999999999999999999999999999999999999999999999999999999999f9999f999ff99999999999999999999999999999999999999999
    999999999999999fffff11111111111111111111ffffffff99999999999999999999999999999999999999999999999999999999999999999ffff9f99999999999999999999999999999999999999999
    9999999999999ff111111111111111111111111111111111ffffff9999999999999999999999999999999999999999999999999999999999999999f99999999999999999999999999999999999999999
    999999999999f11111111111111111111111111111111111111111fff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999fff11111111111111111111111111111111111111f11111ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999ff1ff11111111111111111111111111111111111111111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999f111111111111111111111111111111111fffffff11111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999f1111f1111111111111111111fffffffffeeeeeef11111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999f1111111111111111111fffff22222eeeeeeeeeff111111111f99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999f111111111111111111f1ffffffffffffff9ff1111111111ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999f111111111111111111111111111111111f9f11111111111f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999ffffffffffffff1111111111111111111fff1111111111f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999fffffffffff111111111ff11111111ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    999999999999999999999999999999fff11fffffff111111111fff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999f9ff111ff9999fffffffff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999f99f1111f9f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999fff99ff1111f9f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999fff99999f11111f9f9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999ff99999999f1111ff99f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999fff9999999999f1111f999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999f11111f999f999999999999f99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999f11111f9999f9999999999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999f11111f9999f9999999999f999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999f11111f9999ff999999999f999999999999999999999999999999f9999999999999999999999999999999999999f999999999999999999999999999999999999999
    9999999999999999999999999999ff11111f99999f999999999f99999999999999999999999999999f99999999999999999999999999999999999999f999999999999f99999999999999999999999999
    999999999999ff99999999999999f11111f999999ff99999999f99999999999999999999999999999f99999999999999999999999999999999999999f999999999999f9999999f9999f9999999999999
    9999999999999f9999999999999ff1111ff9999999f99999999f9999999999999999999999999999f999999999999999999999999999999999999999f9999999999999f999999f9999f9999999999999
    99999999999999ff9999999999fff1111f99999999f9999999f99999999999999999999999999999f999999999999999999999999999999999999999f9999999999999f999999f9999f9999999999999
    9999999999999999f999999999f9fffff9fffffff999999999f99999999999999999999999999999f9999999999999999999999f9999999999999999f9999999999999f999999f9999f9999999999999
    99999999999999999f9999999f999999999999999fffff999f999999999999999999999999999999ff9999999999999999999999999999999999999f99999999999999f999999f9999f9999999999999
    99999999999999999f999999f999999999999999999999ffff999999999999999999999999999999f9f99999ff999999ff999999999999999999999f99999999999999f999999f9999f9999999999999
    999999999999999999f99999f999999999999999999999999999999999999999999999999999999f999f999ff9f9999ffff9999f999999999999999f9999999999ffffff99ffffff99f9999999999999
    9999999999999999999f999f9999999999999999999999999999999999999999999999999999999f9999f99f99f999ff9ff9999f99fffff99999999f99999999999999fff9999f9999f9999999999999
    99999999999999999999fff99999999999999999999999999999999999999999999999999999999f9999f99ffff999ff99ff999f99fff9f99999999ffffff9ffff9999f99ff99f9999f99999ff999999
    99999999999999999999ff999999999999999999999999999999999999999999999999999999999f9999f999ff99999f99ff999f99ff99f99999999f9999f9f99f9999f999999f9999f9999ff9f99999
    99999999999999999999f9999999999999999999999999999999999999999999999999999999999ffffff9999ff9999ff9ff999f99ff99f99999999f9999f9f99f999ff999999f9999f999f9999f9999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff99999fff99ff99ff99f99999999f9999f9f9fff99f9999999f9999f999ffffff9999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff99f999f999f99999999f99fff99ff9f99f9999999f9999f999ff99999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f99999f99999999999999999999ffff9999999f99f9999999f9999f9999fff999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffff9999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffffff9999999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff7777777fff9999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f77fff7777ff999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff77f7f77777f999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f77ffff77777f999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999f77f77ff777f9999999999999999999999999999999999999999999999
    999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff7777777ff99999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999ff7777fff999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999fffff999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
while (!(controller.A.isPressed())) {
    pause(1)
}
first_a += 1
info.player1.setLife(300)
info.player2.setLife(300)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
scene.setBackgroundColor(9)
tiles.setTilemap(tilemap`level1`)
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
mySprite2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . f f f f f . . . . . f . . 
    . . f f . . . f f . . . . f f . 
    . f f . . . . . f . . . . . f . 
    . f . . . . . . f . . . . . f . 
    . f . . . . . . . . . . . . f . 
    . f . . . . f f . . . . . . f . 
    . f . f f f f 1 f f f . . . f . 
    . f f f f 1 1 1 1 f 1 f f . f . 
    . f f 1 1 1 f 1 1 1 1 1 f . f . 
    . . f f f 1 1 f f 1 1 1 f f f . 
    . . . . f f f f f f f f f f . . 
    . f f f f f 1 1 1 1 f . . . . . 
    . f . . f f f f f f f f f f . . 
    . f f . . . . . . . . . . f . . 
    f f f . . . . . . . . . . f . . 
    `, SpriteKind.Player)
let mySprite3 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f f . . . . 
    . . . f f d d d d d d d f . . . 
    . f f d d d d f d d d d f . . . 
    . f d d d d d d d d d f d f . . 
    f f d d d d d d d d d f d f . . 
    . f d f f d f d d d d f d f . . 
    . f d d f d d d d d f f d f . . 
    . f f d f f f d d d f d d f . . 
    . . f f d d f f f f f d d f . . 
    . . . f f d d d d d d d f f . . 
    . . . . f f d d d d d f f . . . 
    . . . . . . f f f f f . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite2, 100, 0)
tiles.placeOnRandomTile(mySprite2, assets.tile`myTile0`)
tiles.placeOnRandomTile(mySprite3, assets.tile`myTile1`)
let mySprite4 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . f . . . . . . . . . . f . . 
    . f . . . . . . . . . . . . f . 
    f f f f f f f f f f f f f f f f 
    . f . . . . . . . . . . . . f . 
    . . f . . . . . . . . . . f . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
let textSprite = textsprite.create("example text")
forever(function () {
    if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . f 1 f f . . . . . . 
            . . . . . . f 1 1 f . . . . . . 
            . . . . . . f 1 1 f f . . . . . 
            . . . . . . f f 1 1 f . . . . . 
            . f f . . . f 1 1 1 f . . . . . 
            . . f . . . f 1 f f f . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . . f . f f f . . . . . . . 
            . . . . f f f f f f f f f f f . 
            . . . . f f 1 1 f f f . . . . . 
            . . . . f f f f f . . . . . . . 
            . f . . f . . . f . . . . . . . 
            . . f f f . . . f f f f f . . . 
            `)
    } else {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . f f f f f . . . . . f . . 
            . . f f . . . f f . . . . f f . 
            . f f . . . . . f . . . . . f . 
            . f . . . . . . f . . . . . f . 
            . f . . . . . . . . . . . . f . 
            . f . . . . f f . . . . . . f . 
            . f . f f f f 1 f f f . . . f . 
            . f f f f 1 1 1 1 f 1 f f . f . 
            . f f 1 1 1 f 1 1 1 1 1 f . f . 
            . . f f f 1 1 f f 1 1 1 f f f . 
            . . . . f f f f f f f f f f . . 
            . f f f f f 1 1 1 1 f . . . . . 
            . f . . f f f f f f f f f f . . 
            . f f . . . . . . . . . . f . . 
            f f f . . . . . . . . . . f . . 
            `)
    }
    pause(100)
})
forever(function () {
    if (kciked == 0) {
        if (0 < mySprite3.x - mySprite2.x) {
            mySprite3.vx = -50
        } else {
            mySprite3.vx = 50
        }
        if (mySprite3.isHittingTile(CollisionDirection.Bottom) && Math.percentChance(25 - (mySprite3.x - mySprite2.x))) {
            mySprite3.vy = -150
        }
        if (mySprite3.overlapsWith(mySprite2)) {
            if (kcik == 0) {
                mySprite2.vx = 100 * (last_button * -1)
                mySprite2.vy = -100
                info.player1.changeLifeBy(-1)
                pause(500)
            } else {
                mySprite3.vx = mySprite3.vx * -2
                mySprite3.vy = -100
                info.player2.changeLifeBy(-1)
                kciked = 1
                info.changeScoreBy(11)
            }
        }
    }
    if (mySprite3.isHittingTile(CollisionDirection.Bottom) || (mySprite3.isHittingTile(CollisionDirection.Left) || mySprite3.isHittingTile(CollisionDirection.Right))) {
        if (kcik == 1) {
            scene.cameraShake(8, 200)
        }
        kciked = 0
    }
})
forever(function () {
    mySprite2.vy += 5
    mySprite3.vy += 5
})
forever(function () {
    for (let index = 0; index < 4; index++) {
        music.playMelody("D C F E A G D C ", 500)
        music.playMelody("D C F E G F D C ", 500)
    }
    music.playMelody("F F D D E G G G ", 500)
    music.playMelody("A A A A A E C E ", 500)
    music.playMelody("F F F G B B B A ", 500)
    music.playMelody("A G F E F E D E ", 500)
})
forever(function () {
    if (mySprite2.isHittingTile(CollisionDirection.Bottom)) {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . f 1 f f . . . . . . 
            . . . . . . f 1 1 f . . . . . . 
            . . . . . . f 1 1 f f . . . . . 
            . . . . . . f f 1 1 f . . . . . 
            . f f . . . f 1 1 1 f . . . . . 
            . . f . . . f 1 f f f . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . f . . f 1 1 f . . . . . . 
            . . . . f . f f f . . . . . . . 
            . . . . f f f f f f f f f f f . 
            . . . . f f 1 1 f f f . . . . . 
            . . . . f f f f f . . . . . . . 
            . f . . f . . . f . . . . . . . 
            . . f f f . . . f f f f f . . . 
            `)
    } else {
        mySprite2.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . f f f f f . . . . . f . . 
            . . f f . . . f f . . . . f f . 
            . f f . . . . . f . . . . . f . 
            . f . . . . . . f . . . . . f . 
            . f . . . . . . . . . . . . f . 
            . f . . . . f f . . . . . . f . 
            . f . f f f f 1 f f f . . . f . 
            . f f f f 1 1 1 1 f 1 f f . f . 
            . f f 1 1 1 f 1 1 1 1 1 f . f . 
            . . f f f 1 1 f f 1 1 1 f f f . 
            . . . . f f f f f f f f f f . . 
            . f f f f f 1 1 1 1 f . . . . . 
            . f . . f f f f f f f f f f . . 
            . f f . . . . . . . . . . f . . 
            f f f . . . . . . . . . . f . . 
            `)
    }
    mySprite4.setPosition(mySprite2.x + (mySprite3.x - mySprite2.x) / 2, mySprite2.y + (mySprite3.y - mySprite2.y) / 2)
    scene.cameraFollowSprite(mySprite4)
    textSprite.setText(convertToText(Math.abs(Math.round(mySprite3.x - mySprite2.x))))
    textSprite.setPosition(mySprite4.x, mySprite4.y - 10)
    textSprite.setOutline(1, 15)
    textSprite.z += -1
})
